/*! For license information please see idb.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/js/idb.min.js":t=>{!function(){function e(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function n(t,n,r){var o,i=new Promise((function(i,u){e(o=t[n].apply(t,r)).then(i,u)}));return i.request=o,i}function r(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function o(t,e,r,o){o.forEach((function(o){o in r.prototype&&(t.prototype[o]=function(){return n(this[e],o,arguments)})}))}function i(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,r,o){o.forEach((function(o){o in r.prototype&&(t.prototype[o]=function(){return function(t,e,r){var o=n(t,e,r);return o.then((function(t){if(t)return new c(t,o.request)}))}(this[e],o,arguments)})}))}function s(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function a(t){this._store=t}function p(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new p(n)}function d(t){this._db=t}r(s,"_index",["name","keyPath","multiEntry","unique"]),o(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then((function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then((function(t){if(t)return new c(t,n._request)}))}))})})),a.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},a.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(a,"_store",["name","keyPath","indexNames","autoIncrement"]),o(a,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(a,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),i(a,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new a(this._tx.objectStore.apply(this._tx,arguments))},r(p,"_tx",["objectStoreNames","mode"]),i(p,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new a(this._db.createObjectStore.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),i(f,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),i(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[a,s].forEach((function(e){e.prototype[t.replace("open","iterate")]=function(){var e=function(t){return Array.prototype.slice.call(t)}(arguments),n=e[e.length-1],r=this._store||this._index,o=r[t].apply(r,e.slice(0,-1));o.onsuccess=function(){n(o.result)}}}))})),[s,a].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(o){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():o(r)):o(r)}))}))})}));var l={open:function(t,e,r){var o=n(indexedDB,"open",[t,e]),i=o.request;return i.onupgradeneeded=function(t){r&&r(new f(i.result,t.oldVersion,i.transaction))},o.then((function(t){return new d(t)}))},delete:function(t){return n(indexedDB,"deleteDatabase",[t])}};t.exports=l,t.exports.default=t.exports}()}},e={};!function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}("./src/js/idb.min.js")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCJ3ZWJwYWNrOi8vdGVzdC1wd2Etd2VicGFjay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90ZXN0LXB3YS13ZWJwYWNrL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbiEoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBlKGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHQsIG4pIHtcbiAgICAgIChlLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdChlLnJlc3VsdCk7XG4gICAgICB9KSxcbiAgICAgICAgKGUub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuKGUuZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB0KHQsIG4sIG8pIHtcbiAgICB2YXIgcixcbiAgICAgIGkgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoaSwgdSkge1xuICAgICAgICBlKChyID0gdFtuXS5hcHBseSh0LCBvKSkpLnRoZW4oaSwgdSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gKGkucmVxdWVzdCA9IHIpLCBpO1xuICB9XG4gIGZ1bmN0aW9uIG4oZSwgdCwgbikge1xuICAgIG4uZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCBuLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzW3RdW25dO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdGhpc1t0XVtuXSA9IGU7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBvKGUsIG4sIG8sIHIpIHtcbiAgICByLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgIHIgaW4gby5wcm90b3R5cGUgJiZcbiAgICAgICAgKGUucHJvdG90eXBlW3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0KHRoaXNbbl0sIHIsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHIoZSwgdCwgbiwgbykge1xuICAgIG8uZm9yRWFjaChmdW5jdGlvbiAobykge1xuICAgICAgbyBpbiBuLnByb3RvdHlwZSAmJlxuICAgICAgICAoZS5wcm90b3R5cGVbb10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbdF1bb10uYXBwbHkodGhpc1t0XSwgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gaShlLCBuLCBvLCByKSB7XG4gICAgci5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICByIGluIG8ucHJvdG90eXBlICYmXG4gICAgICAgIChlLnByb3RvdHlwZVtyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmN0aW9uIChlLCBuLCBvKSB7XG4gICAgICAgICAgICB2YXIgciA9IHQoZSwgbiwgbyk7XG4gICAgICAgICAgICByZXR1cm4gci50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGlmIChlKSByZXR1cm4gbmV3IGMoZSwgci5yZXF1ZXN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKHRoaXNbbl0sIHIsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHUoZSkge1xuICAgIHRoaXMuX2luZGV4ID0gZTtcbiAgfVxuICBmdW5jdGlvbiBjKGUsIHQpIHtcbiAgICAodGhpcy5fY3Vyc29yID0gZSksICh0aGlzLl9yZXF1ZXN0ID0gdCk7XG4gIH1cbiAgZnVuY3Rpb24gcyhlKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBlO1xuICB9XG4gIGZ1bmN0aW9uIGEoZSkge1xuICAgICh0aGlzLl90eCA9IGUpLFxuICAgICAgKHRoaXMuY29tcGxldGUgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAodCwgbikge1xuICAgICAgICAoZS5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHQoKTtcbiAgICAgICAgfSksXG4gICAgICAgICAgKGUub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG4oZS5lcnJvcik7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgKGUub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG4oZS5lcnJvcik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gIH1cbiAgZnVuY3Rpb24gcChlLCB0LCBuKSB7XG4gICAgKHRoaXMuX2RiID0gZSksICh0aGlzLm9sZFZlcnNpb24gPSB0KSwgKHRoaXMudHJhbnNhY3Rpb24gPSBuZXcgYShuKSk7XG4gIH1cbiAgZnVuY3Rpb24gZihlKSB7XG4gICAgdGhpcy5fZGIgPSBlO1xuICB9XG4gIG4odSwgXCJfaW5kZXhcIiwgW1wibmFtZVwiLCBcImtleVBhdGhcIiwgXCJtdWx0aUVudHJ5XCIsIFwidW5pcXVlXCJdKSxcbiAgICBvKHUsIFwiX2luZGV4XCIsIElEQkluZGV4LCBbXG4gICAgICBcImdldFwiLFxuICAgICAgXCJnZXRLZXlcIixcbiAgICAgIFwiZ2V0QWxsXCIsXG4gICAgICBcImdldEFsbEtleXNcIixcbiAgICAgIFwiY291bnRcIixcbiAgICBdKSxcbiAgICBpKHUsIFwiX2luZGV4XCIsIElEQkluZGV4LCBbXCJvcGVuQ3Vyc29yXCIsIFwib3BlbktleUN1cnNvclwiXSksXG4gICAgbihjLCBcIl9jdXJzb3JcIiwgW1wiZGlyZWN0aW9uXCIsIFwia2V5XCIsIFwicHJpbWFyeUtleVwiLCBcInZhbHVlXCJdKSxcbiAgICBvKGMsIFwiX2N1cnNvclwiLCBJREJDdXJzb3IsIFtcInVwZGF0ZVwiLCBcImRlbGV0ZVwiXSksXG4gICAgW1wiYWR2YW5jZVwiLCBcImNvbnRpbnVlXCIsIFwiY29udGludWVQcmltYXJ5S2V5XCJdLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgIHQgaW4gSURCQ3Vyc29yLnByb3RvdHlwZSAmJlxuICAgICAgICAoYy5wcm90b3R5cGVbdF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG4gPSB0aGlzLFxuICAgICAgICAgICAgbyA9IGFyZ3VtZW50cztcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICBuLl9jdXJzb3JbdF0uYXBwbHkobi5fY3Vyc29yLCBvKSxcbiAgICAgICAgICAgICAgZShuLl9yZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUpIHJldHVybiBuZXcgYyhlLCBuLl9yZXF1ZXN0KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pLFxuICAgIChzLnByb3RvdHlwZS5jcmVhdGVJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgdSh0aGlzLl9zdG9yZS5jcmVhdGVJbmRleC5hcHBseSh0aGlzLl9zdG9yZSwgYXJndW1lbnRzKSk7XG4gICAgfSksXG4gICAgKHMucHJvdG90eXBlLmluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyB1KHRoaXMuX3N0b3JlLmluZGV4LmFwcGx5KHRoaXMuX3N0b3JlLCBhcmd1bWVudHMpKTtcbiAgICB9KSxcbiAgICBuKHMsIFwiX3N0b3JlXCIsIFtcIm5hbWVcIiwgXCJrZXlQYXRoXCIsIFwiaW5kZXhOYW1lc1wiLCBcImF1dG9JbmNyZW1lbnRcIl0pLFxuICAgIG8ocywgXCJfc3RvcmVcIiwgSURCT2JqZWN0U3RvcmUsIFtcbiAgICAgIFwicHV0XCIsXG4gICAgICBcImFkZFwiLFxuICAgICAgXCJkZWxldGVcIixcbiAgICAgIFwiY2xlYXJcIixcbiAgICAgIFwiZ2V0XCIsXG4gICAgICBcImdldEFsbFwiLFxuICAgICAgXCJnZXRLZXlcIixcbiAgICAgIFwiZ2V0QWxsS2V5c1wiLFxuICAgICAgXCJjb3VudFwiLFxuICAgIF0pLFxuICAgIGkocywgXCJfc3RvcmVcIiwgSURCT2JqZWN0U3RvcmUsIFtcIm9wZW5DdXJzb3JcIiwgXCJvcGVuS2V5Q3Vyc29yXCJdKSxcbiAgICByKHMsIFwiX3N0b3JlXCIsIElEQk9iamVjdFN0b3JlLCBbXCJkZWxldGVJbmRleFwiXSksXG4gICAgKGEucHJvdG90eXBlLm9iamVjdFN0b3JlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBzKHRoaXMuX3R4Lm9iamVjdFN0b3JlLmFwcGx5KHRoaXMuX3R4LCBhcmd1bWVudHMpKTtcbiAgICB9KSxcbiAgICBuKGEsIFwiX3R4XCIsIFtcIm9iamVjdFN0b3JlTmFtZXNcIiwgXCJtb2RlXCJdKSxcbiAgICByKGEsIFwiX3R4XCIsIElEQlRyYW5zYWN0aW9uLCBbXCJhYm9ydFwiXSksXG4gICAgKHAucHJvdG90eXBlLmNyZWF0ZU9iamVjdFN0b3JlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBzKHRoaXMuX2RiLmNyZWF0ZU9iamVjdFN0b3JlLmFwcGx5KHRoaXMuX2RiLCBhcmd1bWVudHMpKTtcbiAgICB9KSxcbiAgICBuKHAsIFwiX2RiXCIsIFtcIm5hbWVcIiwgXCJ2ZXJzaW9uXCIsIFwib2JqZWN0U3RvcmVOYW1lc1wiXSksXG4gICAgcihwLCBcIl9kYlwiLCBJREJEYXRhYmFzZSwgW1wiZGVsZXRlT2JqZWN0U3RvcmVcIiwgXCJjbG9zZVwiXSksXG4gICAgKGYucHJvdG90eXBlLnRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBhKHRoaXMuX2RiLnRyYW5zYWN0aW9uLmFwcGx5KHRoaXMuX2RiLCBhcmd1bWVudHMpKTtcbiAgICB9KSxcbiAgICBuKGYsIFwiX2RiXCIsIFtcIm5hbWVcIiwgXCJ2ZXJzaW9uXCIsIFwib2JqZWN0U3RvcmVOYW1lc1wiXSksXG4gICAgcihmLCBcIl9kYlwiLCBJREJEYXRhYmFzZSwgW1wiY2xvc2VcIl0pLFxuICAgIFtcIm9wZW5DdXJzb3JcIiwgXCJvcGVuS2V5Q3Vyc29yXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIFtzLCB1XS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHQucHJvdG90eXBlW2UucmVwbGFjZShcIm9wZW5cIiwgXCJpdGVyYXRlXCIpXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgdCA9IChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSk7XG4gICAgICAgICAgICB9KShhcmd1bWVudHMpLFxuICAgICAgICAgICAgbiA9IHRbdC5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIG8gPSB0aGlzLl9zdG9yZSB8fCB0aGlzLl9pbmRleCxcbiAgICAgICAgICAgIHIgPSBvW2VdLmFwcGx5KG8sIHQuc2xpY2UoMCwgLTEpKTtcbiAgICAgICAgICByLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG4oci5yZXN1bHQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICBbdSwgc10uZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcm90b3R5cGUuZ2V0QWxsIHx8XG4gICAgICAgIChlLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICAgIHZhciBuID0gdGhpcyxcbiAgICAgICAgICAgIG8gPSBbXTtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIG4uaXRlcmF0ZUN1cnNvcihlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBlXG4gICAgICAgICAgICAgICAgPyAoby5wdXNoKGUudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgdm9pZCAwID09PSB0IHx8IG8ubGVuZ3RoICE9IHQgPyBlLmNvbnRpbnVlKCkgOiByKG8pKVxuICAgICAgICAgICAgICAgIDogcihvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgdmFyIGQgPSB7XG4gICAgb3BlbjogZnVuY3Rpb24gKGUsIG4sIG8pIHtcbiAgICAgIHZhciByID0gdChpbmRleGVkREIsIFwib3BlblwiLCBbZSwgbl0pLFxuICAgICAgICBpID0gci5yZXF1ZXN0O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGkub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBvICYmIG8obmV3IHAoaS5yZXN1bHQsIGUub2xkVmVyc2lvbiwgaS50cmFuc2FjdGlvbikpO1xuICAgICAgICB9KSxcbiAgICAgICAgci50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBmKGUpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIGRlbGV0ZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiB0KGluZGV4ZWREQiwgXCJkZWxldGVEYXRhYmFzZVwiLCBbZV0pO1xuICAgIH0sXG4gIH07XG4gIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIG1vZHVsZVxuICAgID8gKChtb2R1bGUuZXhwb3J0cyA9IGQpLCAobW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzKSlcbiAgICA6IChzZWxmLmlkYiA9IGQpO1xufSkoKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9qcy9pZGIubWluLmpzXCIpO1xuIl0sIm5hbWVzIjpbImUiLCJQcm9taXNlIiwidCIsIm4iLCJvbnN1Y2Nlc3MiLCJyZXN1bHQiLCJvbmVycm9yIiwiZXJyb3IiLCJvIiwiciIsImkiLCJ1IiwiYXBwbHkiLCJ0aGVuIiwicmVxdWVzdCIsImZvckVhY2giLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvdHlwZSIsImdldCIsInRoaXMiLCJzZXQiLCJhcmd1bWVudHMiLCJjIiwiX2luZGV4IiwiX2N1cnNvciIsIl9yZXF1ZXN0IiwicyIsIl9zdG9yZSIsImEiLCJfdHgiLCJjb21wbGV0ZSIsIm9uY29tcGxldGUiLCJvbmFib3J0IiwicCIsIl9kYiIsIm9sZFZlcnNpb24iLCJ0cmFuc2FjdGlvbiIsImYiLCJJREJJbmRleCIsIklEQkN1cnNvciIsInJlc29sdmUiLCJjcmVhdGVJbmRleCIsImluZGV4IiwiSURCT2JqZWN0U3RvcmUiLCJvYmplY3RTdG9yZSIsIklEQlRyYW5zYWN0aW9uIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJJREJEYXRhYmFzZSIsInJlcGxhY2UiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImxlbmd0aCIsImdldEFsbCIsIml0ZXJhdGVDdXJzb3IiLCJwdXNoIiwidmFsdWUiLCJkIiwib3BlbiIsImluZGV4ZWREQiIsIm9udXBncmFkZW5lZWRlZCIsImRlbGV0ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==